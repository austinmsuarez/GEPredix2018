#!/bin/bash
#arguments: repoDirName, script, moreSwitches, instancePrepender, branch, mvnSettings

set -e
set -x
export ARTIFACTORY_USERNAME=${EXT_ARTIFACTORY_USER_CREDS_USR}
export ARTIFACTORY_APIKEY=${EXT_ARTIFACTORY_USER_CREDS_PSW}
echo "Artifactory user  is: $ARTIFACTORY_USERNAME"
echo "Api Key is: $ARTIFACTORY_APIKEY"

#./quickstart-kit-cloud-app.sh "${env.MORE_SWITCHES}" --skip-va --skip-setup -i "${env.INSTANCE_PREPENDER}" -b "${env.BRANCH_NAME}" -s "${env.WORKSPACE}"/library/scripts/mvn_settings_snapshot.xml
#preparePredixUser()
if [ -d "quickstart" ]; then
  rm -rf quickstart
fi
workspace=`pwd`
mkdir -p quickstart
chmod 777 quickstart
cd quickstart

curl -O https://github.build.ge.com/raw/adoption/$1/$5/scripts/$2;

chmod 755 $2

./$2 $3 --skip-setup -i $4 -b $5 -s $workspace/library/scripts/$6
